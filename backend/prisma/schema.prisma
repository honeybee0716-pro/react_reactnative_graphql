// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model PrismaInfo {
  id                String  @id @default(auto()) @map("_id") @db.ObjectId
  prismaIsConnected Boolean @default(true)
}

model User {
  id                         String    @id @default(auto()) @map("_id") @db.ObjectId
  stripeCustomerID           String    @unique
  firstName                  String
  lastName                   String
  email                      String    @unique
  emailIsVerified            Boolean   @default(false)
  password                   String
  createdAt                  DateTime  @default(now())
  updatedAt                  DateTime  @default(now())
  deletedAt                  DateTime?
  bannedAt                   DateTime?
  allowMarketingEmails       Boolean   @default(true)
  createdIPAddress           String
  passwordResetCode          Int?
  passwordResetCodeTimestamp DateTime?
  verifyEmailCode            Int?
  verifyEmailCodeTimestamp   DateTime?
  trialCreatedAt             DateTime?
  role                       Role      @default(BASIC)
  leads                      Lead[]
}

enum Role {
  BASIC
  ADMIN
}

model Lead {
  id                 String  @id @default(auto()) @map("_id") @db.ObjectId
  user               User?   @relation(fields: [userID], references: [id])
  userID             String? @db.ObjectId
  code               String?
  firstName          String?
  lastName           String?
  companyName        String?
  title              String?
  email              String?
  phone              String?
  verificationStatus String?
  website            String?
  dbID               String?
  companyID          String?
  companyURL         String?
  durationInCompany  String?
  durationInRole     String?
  industry           String?
  isPremium          String?
  linkedInProfileURL String?
  location           String?
  profileImageURL    String?
  query              String?
  leadSource         String?
}
